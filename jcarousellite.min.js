/*! jQuery jCarouselLite - v1.8 - 2012-07-22
* http://kswedberg.github.com/jquery-carousel-lite/
* Copyright (c) 2012 Karl Swedberg; Licensed MIT, GPL */
(function(c){c.jCarouselLite={version:"1.8",curr:0};c.fn.jCarouselLite=function(e){var g=c.extend(true,{},c.fn.jCarouselLite.defaults,e),f=Math.ceil,d=Math.abs;this.each(function(){var W,C,G,X,q,R,w,z={div:{},ul:{},li:{}},M=true,y=false,v=g.vertical?"top":"left",o={},P=g.vertical?"height":"width",j=this,U=c(this),H=U.find("ul").eq(0),F=H.children("li"),h=F.length,B=g.visible,n=f(B),Y=Math.floor(B),u=Math.min(g.start,h-1),l=1,D=0,O={},I={},s={},p=g.vertical?"y":"x",t=g.vertical?"x":"y";var S=g.init.call(this,g,F);if(S===false){return}U.data("dirjc",l);if(g.circular){W=F.slice(h-n).clone(true).each(a);C=F.slice(0,n).clone(true).each(a);H.prepend(W).append(C);u+=n;D=n}var x=function(ab,aa){ab=f(ab);var ad,ac=(ab-D)%h,Z=ac+Y;if(aa.go){ad=c(g.btnGo);ad.removeClass(g.activeClass).removeClass(g.visibleClass);ad.eq(ac).addClass(g.activeClass);ad.slice(ac,ac+Y).addClass(g.visibleClass);if(Z>ad.length){ad.slice(0,Z-ad.length).addClass(g.visibleClass)}}if(aa.pager){G.removeClass(g.activeClass);G.eq(f(ac/B)).addClass(g.activeClass)}return ac};var E=H.children("li"),m=E.length,J=u;c.jCarouselLite.curr=J;var r=function(Z){var ab,i,aa;if(Z){z.div[P]="";z.li={width:"",height:""};return z}ab=g.vertical?E.outerHeight(true):E.outerWidth(true);i=ab*m;aa=ab*B;z.div[P]=aa+"px";z.ul[P]=i+"px";z.ul[v]=-(J*ab)+"px";z.li={width:E.width(),height:E.height()};z.liSize=ab;return z};var N=function(aa){var Z;var i={div:{visibility:"visible",position:"relative",zIndex:2,left:"0"},ul:{margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1},li:{overflow:g.vertical?"hidden":"visible","float":g.vertical?"none":"left"}};if(aa){Z=r(true);U.css(Z.div);H.css(Z.ul);E.css(Z.li)}Z=r();if(g.autoCSS){if(M){c.extend(true,Z,i);M=false}E.css(Z.li);H.css(Z.ul);U.css(Z.div)}};N();var K=0,A=b(h,g),V=typeof g.auto=="number"?g.auto:g.scroll;var L=function(){j.setAutoAdvance=setTimeout(function(){if(!A||A>K){l=U.data("dirjc");k(J+(l*V));K++;L()}},g.timeout)};c.each(["btnPrev","btnNext"],function(i,Z){if(g[Z]){g["$"+Z]=c.isFunction(g[Z])?g[Z].call(U[0]):c(g[Z]);g["$"+Z].bind("click.jc",function(ab){ab.preventDefault();var aa=i===0?J-g.scroll:J+g.scroll;if(g.directional){U.data("dirjc",(i?1:-1))}return k(aa)})}});if(!g.circular){if(g.btnPrev&&u===0){g.$btnPrev.addClass(g.btnDisabledClass)}if(g.btnNext&&u+Y>=m){g.$btnNext.addClass(g.btnDisabledClass)}}if(g.btnGo){c.each(g.btnGo,function(Z,aa){c(aa).bind("click.jc",function(i){i.preventDefault();return k(g.circular?B+Z:Z)})});O.go=1}if(g.autoPager){X=f(h/B);G=[];for(var T=0;T<X;T++){G.push('<li><a href="#">'+(T+1)+"</a></li>")}if(G.length>1){G=c("<ul>"+G.join("")+"</ul>").appendTo(g.autoPager).find("li")}G.find("a").each(function(Z){c(this).bind("click.jc",function(aa){aa.preventDefault();var i=Z*B;if(g.circular){i+=B}return k(i)})});O.pager=1}x(u,O);if(g.mouseWheel&&U.mousewheel){U.bind("mousewheel.jc",function(i,Z){return Z>0?k(J-g.scroll):k(J+g.scroll)})}if(g.pause&&g.auto){U.bind("mouseenter.jc",function(){U.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){U.trigger("resumeCarousel.jc")})}if(g.auto){L()}function Q(){return E.slice(J).slice(0,n)}c.jCarouselLite.vis=Q;function k(ad,i){if(y){return false}i=i||{};var Z=J,ab=ad>J,aa=i.speed||g.speed,ac=i.offset||0;if(g.beforeStart){g.beforeStart.call(this,Q(),ab)}E.removeClass(g.activeClass);if(g.circular){if(ad>J&&ad>m-n){J=J%h;ad=ad-h;H.css(v,(-J*z.liSize)-ac)}else{if(ad<J&&ad<0){J+=h;ad+=h;H.css(v,(-J*z.liSize)-ac)}}J=ad+(ad%1)}else{if(ad<0){ad=0}else{if(ad>m-Y){ad=m-Y}}J=ad;if(J===0){if(g.first){g.first.call(this,Q(),ab)}}if(J===m-Y){if(g.last){g.last.call(this,Q(),ab)}}if(g.btnPrev){g.$btnPrev.toggleClass(g.btnDisabledClass,J===0)}if(g.btnNext){g.$btnNext.toggleClass(g.btnDisabledClass,J===m-Y)}}x(J,O);c.jCarouselLite.curr=J;if(Z===J&&!i.force){if(g.afterEnd){g.afterEnd.call(this,Q(),ab)}return J}y=true;o[v]=-(J*z.liSize);H.animate(o,aa,g.easing,function(){if(g.afterEnd){g.afterEnd.call(this,Q(),ab)}y=false});E.eq(J).addClass(g.activeClass);return J}U.bind("go.jc",function(aa,ab,Z){if(typeof ab=="undefined"){ab="+=1"}var i=typeof ab=="string"&&/(\+=|-=)(\d+)/.exec(ab);if(i){ab=i[1]=="-="?J-i[2]*1:J+i[2]*1}else{ab+=u}k(ab,Z)}).bind("startCarousel.jc",function(i){clearTimeout(j.setAutoAdvance);j.setAutoAdvance=undefined;U.trigger("go","+="+g.scroll);L();U.removeData("pausedjc").removeData("stoppedjc")}).bind("resumeCarousel.jc",function(i,aa){if(j.setAutoAdvance){return}clearTimeout(j.setAutoAdvance);j.setAutoAdvance=undefined;var Z=U.data("stoppedjc");if(aa||!Z){L();U.removeData("pausedjc");if(Z){U.removeData("stoppedjc")}}}).bind("pauseCarousel.jc",function(i){clearTimeout(j.setAutoAdvance);j.setAutoAdvance=undefined;U.data("pausedjc",true)}).bind("stopCarousel.jc",function(i){clearTimeout(j.setAutoAdvance);j.setAutoAdvance=undefined;U.data("stoppedjc",true)}).bind("refreshCarousel.jc",function(i){N(g.autoCSS)}).bind("endCarousel.jc",function(){if(j.setAutoAdvance){clearTimeout(j.setAutoAdvance);j.setAutoAdvance=undefined}if(g.btnPrev){g.$btnPrev.addClass(g.btnDisabledClass).unbind(".jc")}if(g.btnNext){g.$btnNext.addClass(g.btnDisabledClass).unbind(".jc")}if(g.btnGo){c.each(g.btnGo,function(Z,aa){c(aa).unbind(".jc")})}c.each(["pausedjc","stoppedjc","dirjc"],function(Z,aa){U.removeData(aa)});U.unbind(".jc")});w={touchstart:function(i){I.x=i.targetTouches[0].pageX;I.y=i.targetTouches[0].pageY;I[v]=parseFloat(H.css(v));I.time=+new Date()},touchmove:function(Z){var i=Z.targetTouches.length;if(i===1){Z.preventDefault();s.x=Z.targetTouches[0].pageX;s.y=Z.targetTouches[0].pageY;o[v]=I[v]+(s[p]-I[p]);H.css(o)}else{s=I}},touchend:function(i){if(!s.x){return}var Z=I[p]-s[p],ad=d(Z),ac=ad>g.swipeThresholds[p],af=d(I[t]-s[t])<g.swipeThresholds[t],ab=+new Date()-I.time,ah=ab<g.swipeThresholds.time,aa=Z>0?"+=":"-=",ag=aa+g.scroll,ae={force:true};if(ah&&ac&&af){ae.speed=g.speed/2}else{if((!ah&&ad<z.liSize/2)||!ac||(ah&&!af)){ag="+=0"}else{if(!ah&&ad>z.liSize/2){ag=Math.round(ad/z.liSize);ag=aa+(ag>g.visible?g.visible:ag);ae.offset=Z}}}U.trigger("go.jc",[ag,ae]);s={}}};if("ontouchend" in document&&g.swipe){U.bind("touchstart touchmove touchend",function(i){i=i.originalEvent;w[i.type](i)})}if(g.responsive){R=g.autoCSS;c(window).bind("resize",function(i){if(R){H.width(H.width()*2);R=false}clearTimeout(q);q=setTimeout(function(){U.trigger("refreshCarousel");R=g.autoCSS},100)})}});return this};c.fn.jCarouselLite.defaults={autoCSS:true,btnPrev:null,btnNext:null,btnGo:null,autoPager:null,btnDisabledClass:"disabled",activeClass:"active",visibleClass:"vis",mouseWheel:false,speed:200,easing:null,timeout:4000,auto:false,directional:false,autoStop:false,pause:true,vertical:false,circular:true,visible:3,start:0,scroll:1,responsive:false,swipe:true,swipeThresholds:{x:80,y:120,time:150},init:function(){},first:null,last:null,beforeStart:null,afterEnd:null};function b(e,d){return d.autoStop&&(d.circular?d.autoStop:Math.min(e,d.autoStop))}function a(d){if(this.id){this.id+=d}}})(jQuery);
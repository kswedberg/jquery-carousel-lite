/*!
 * jCarousel Lite - v1.8.7 - 2013-10-28
 * http://kswedberg.github.com/jquery-carousel-lite/
 * Copyright (c) 2013 Karl Swedberg
 * Licensed MIT (http://kswedberg.github.com/jquery-carousel-lite/blob/master/LICENSE-MIT)
 */(function(e){function t(e,t){return t.autoStop&&(t.circular?t.autoStop:Math.min(e,t.autoStop))}function n(e){this.id&&(this.id+=e)}e.jCarouselLite={version:"1.8.7",curr:0};e.fn.jCarouselLite=function(r){var i=e.extend(!0,{},e.fn.jCarouselLite.defaults,r),s=Math.ceil,o=Math.abs;this.each(function(){function G(){return q.slice(U).slice(0,L)}function Y(t,n){if(g)return!1;n=n||{};var r=U,s=t>U,o=n.speed||i.speed,u=n.offset||0;i.beforeStart&&i.beforeStart.call(x,G(),s);q.removeClass(i.activeClass);if(i.circular){if(t>U&&t>R-L){U%=C;t=U+(n.auto?J:i.scroll);T.css(y,-U*v.liSize-u)}else if(t<U&&t<0){U+=C;t+=C;T.css(y,-U*v.liSize-u)}U=t+t%1}else{t<0?t=0:t>R-A&&(t=R-A);U=t;U===0&&i.first&&i.first.call(this,G(),s);U===R-A&&i.last&&i.last.call(this,G(),s);i.btnPrev&&i.$btnPrev.toggleClass(i.btnDisabledClass,U===0);i.btnNext&&i.$btnNext.toggleClass(i.btnDisabledClass,U===R-A)}I(U,D);e.jCarouselLite.curr=U;if(r===U&&!n.force){i.afterEnd&&i.afterEnd.call(x,G(),s);return U}g=!0;b[y]=-(U*v.liSize);T.animate(b,o,i.easing,function(){i.afterEnd&&i.afterEnd.call(x,G(),s);g=!1});q.eq(U).addClass(i.activeClass);return U}var r,u,a,f,l,c,h,p,d="ontouchend"in document,v={div:{},ul:{},li:{}},m=!0,g=!1,y=i.vertical?"top":"left",b={},w=i.vertical?"height":"width",E=i.vertical?"outerHeight":"outerWidth",S=this,x=e(this),T=x.find(i.ulSelector).eq(0),N=T.children(i.liSelector),C=N.length,k=i.visible,L=s(k),A=Math.floor(k),O=Math.min(i.start,C-1),M=1,_=0,D={},P={},H={},B=i.vertical?"y":"x",j=i.vertical?"x":"y",F=i.init.call(this,i,N);if(F===!1)return;x.data("dirjc",M);x.data(y+"jc",x.css(y));if(i.circular){r=N.slice(C-L).clone(!0).each(n);u=N.slice(0,L).clone(!0).each(n);T.prepend(r).append(u);O+=L;_=L}if(i.btnGo&&i.btnGo.length){e.isArray(i.btnGo)&&typeof i.btnGo[0]=="string"?p=e(i.btnGo.join()):p=e(i.btnGo);p.each(function(t){e(this).bind("click.jc",function(e){e.preventDefault();return Y(i.circular?k+t:t)})});D.go=1}var I=function(e,t){e=s(e);var n=(e-_)%C,r=n+A;if(t.go){p.removeClass(i.activeClass).removeClass(i.visibleClass);p.eq(n).addClass(i.activeClass);p.slice(n,n+A).addClass(i.visibleClass);r>p.length&&p.slice(0,r-p.length).addClass(i.visibleClass)}if(t.pager){a.removeClass(i.activeClass);a.eq(s(n/k)).addClass(i.activeClass)}return n},q=T.children(i.liSelector),R=q.length,U=O;e.jCarouselLite.curr=U;var z=function(e){var t,n,r;if(e){v.div[w]="";v.li={width:"",height:""};return v}t=q[E](!0);n=t*R;r=t*k;v.div[w]=r+"px";v.ul[w]=n+"px";v.ul[y]=-(U*t)+"px";v.li={width:q.width(),height:q.height()};v.liSize=t;return v},W=function(t){var n,r,s={div:{visibility:"visible",position:"relative",zIndex:2,left:"0"},ul:{margin:"0",padding:"0",position:"relative",listStyleType:"none",zIndex:1},li:{overflow:i.vertical?"hidden":"visible","float":i.vertical?"none":"left"}};if(t){n=z(!0);x.css(n.div);T.css(n.ul);q.css(n.li)}n=z();if(i.autoCSS&&m){e.extend(!0,n,s);m=!1}if(i.autoWidth){r=parseInt(x.css(w),10);v.liSize=r/i.visible;n.li[w]=v.liSize-(q[E](!0)-parseInt(q.css(w),10));n.ul[w]=v.liSize*R+"px";n.ul[y]=-(U*v.liSize)+"px";n.div[w]=r}if(i.autoCSS){q.css(n.li);T.css(n.ul);x.css(n.div)}};W();var X=0,V=t(C,i),J=typeof i.auto=="number"?i.auto:i.scroll,K=function(){S.setAutoAdvance=setTimeout(function(){if(!V||V>X){M=x.data("dirjc");Y(U+M*J,{auto:!0});X++;K()}},i.timeout)};e.each(["btnPrev","btnNext"],function(t,n){if(i[n]){i["$"+n]=e.isFunction(i[n])?i[n].call(x[0]):e(i[n]);i["$"+n].bind("click.jc",function(e){e.preventDefault();var n=t===0?U-i.scroll:U+i.scroll;i.directional&&x.data("dirjc",t?1:-1);return Y(n)})}});if(!i.circular){i.btnPrev&&O===0&&i.$btnPrev.addClass(i.btnDisabledClass);i.btnNext&&O+A>=R&&i.$btnNext.addClass(i.btnDisabledClass)}if(i.autoPager){f=s(C/k);a=[];for(var Q=0;Q<f;Q++)a.push('<li><a href="#">'+(Q+1)+"</a></li>");if(a.length>1){a=e("<"+i.ulSelector+">"+a.join("")+"</"+i.ulSelector+">").appendTo(i.autoPager).find(i.liSelector);a.find("a").each(function(t){e(this).bind("click.jc",function(e){e.preventDefault();var n=t*k;i.circular&&(n+=k);return Y(n)})});D.pager=1}}I(O,D);i.mouseWheel&&x.mousewheel&&x.bind("mousewheel.jc",function(e,t){return t>0?Y(U-i.scroll):Y(U+i.scroll)});i.pause&&i.auto&&!d&&x.bind("mouseenter.jc",function(){x.trigger("pauseCarousel.jc")}).bind("mouseleave.jc",function(){x.trigger("resumeCarousel.jc")});i.auto&&K();e.jCarouselLite.vis=G;x.bind("go.jc",function(e,t,n){typeof t=="undefined"&&(t="+=1");var r=typeof t=="string"&&/(\+=|-=)(\d+)/.exec(t);r?t=r[1]==="-="?U-r[2]*1:U+r[2]*1:t+=O;Y(t,n)}).bind("startCarousel.jc",function(e){clearTimeout(S.setAutoAdvance);S.setAutoAdvance=undefined;x.trigger("go","+="+i.scroll);K();x.removeData("pausedjc").removeData("stoppedjc")}).bind("resumeCarousel.jc",function(e,t){if(S.setAutoAdvance)return;clearTimeout(S.setAutoAdvance);S.setAutoAdvance=undefined;var n=x.data("stoppedjc");if(t||!n){K();x.removeData("pausedjc");n&&x.removeData("stoppedjc")}}).bind("pauseCarousel.jc",function(e){clearTimeout(S.setAutoAdvance);S.setAutoAdvance=undefined;x.data("pausedjc",!0)}).bind("stopCarousel.jc",function(e){clearTimeout(S.setAutoAdvance);S.setAutoAdvance=undefined;x.data("stoppedjc",!0)}).bind("refreshCarousel.jc",function(e){W(i.autoCSS)}).bind("endCarousel.jc",function(){if(S.setAutoAdvance){clearTimeout(S.setAutoAdvance);S.setAutoAdvance=undefined}i.btnPrev&&i.$btnPrev.addClass(i.btnDisabledClass).unbind(".jc");i.btnNext&&i.$btnNext.addClass(i.btnDisabledClass).unbind(".jc");i.btnGo&&e.each(i.btnGo,function(t,n){e(n).unbind(".jc")});if(i.circular){q.slice(0,L).remove();q.slice(-L).remove()}e.each([y+"jc","pausedjc","stoppedjc","dirjc"],function(e,t){x.removeData(t)});x.unbind(".jc")});h={touchstart:function(e){H.x=0;H.y=0;P.x=e.targetTouches[0].pageX;P.y=e.targetTouches[0].pageY;P[y]=parseFloat(T.css(y));P.time=+(new Date)},touchmove:function(e){var t=e.targetTouches.length;if(t===1){e.preventDefault();H.x=e.targetTouches[0].pageX;H.y=e.targetTouches[0].pageY;b[y]=P[y]+(H[B]-P[B]);T.css(b)}else{H.x=P.x;H.y=P.y}},touchend:function(e){if(!H.x)return;var t=P[B]-H[B],n=o(t),r=n>i.swipeThresholds[B],s=o(P[j]-H[j])<i.swipeThresholds[j],u=+(new Date)-P.time,a=u<i.swipeThresholds.time,f=t>0?"+=":"-=",l=f+i.scroll,c={force:!0};if(a&&r&&s)c.speed=i.speed/2;else if(!a&&n<v.liSize/2||!r||a&&!s)l="+=0";else if(!a&&n>v.liSize/2){l=Math.round(n/v.liSize);l=f+(l>i.visible?i.visible:l);c.offset=t}x.trigger("go.jc",[l,c]);H={}},handle:function(e){e=e.originalEvent;h[e.type](e)}};d&&i.swipe&&x.bind("touchstart.jc touchmove.jc touchend.jc",h.handle);if(i.responsive){c=i.autoCSS;e(window).bind("resize",function(e){if(c){T.width(T.width()*2);c=!1}clearTimeout(l);l=setTimeout(function(){x.trigger("refreshCarousel.jc");c=i.autoCSS},100)})}});return this};e.fn.jCarouselLite.defaults={ulSelector:"ul",liSelector:"li",btnPrev:null,btnNext:null,btnGo:null,autoPager:null,btnDisabledClass:"disabled",activeClass:"active",visibleClass:"vis",mouseWheel:!1,speed:200,easing:null,timeout:4e3,auto:!1,directional:!1,autoStop:!1,pause:!0,vertical:!1,circular:!0,visible:3,start:0,scroll:1,autoCSS:!0,responsive:!1,autoWidth:!1,swipe:!0,swipeThresholds:{x:80,y:40,time:150},init:function(){},first:null,last:null,beforeStart:null,afterEnd:null}})(jQuery);